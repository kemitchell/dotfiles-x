# shell
alias chase='cd !$'
alias ff='fgrep'
alias la='ls -av'
alias ll='ls -l'
alias lla='ls -al'
alias ls='ls --color -v'
alias rm='rm -i'
alias up='cd ..'

#archives
alias tgzdir="tar --create --verbose --gzip --file"
alias tbzdir="tar --create --verbose --bzip2 --file"
alias zipdir="zip -r"

# SCM
alias g='git'
alias groot='git rev-parse --git-dir > /dev/null 2>&1 && cd `git rev-parse --show-cdup`'
alias .g="git --git-dir=$HOME/.dotfiles.git --work-tree=$HOME/"
alias gg='git g'

# ruby
alias iri='ri -i'
alias r='rake'
alias bb='bundle'
alias be='bundle exec'
alias jrs='jruby --ng -S'

# TeX
alias texclean='find . -maxdepth 1 -regextype posix-extended -iregex ".+\.(aux|log|ilg|ind|idx|out|toc)$" -exec rm {} \;'

# Net
alias dl='wget -c'
alias serve='http-server -r -c-1'

# file management with rsync for progress bar
alias rscp='rsync -aP --no-whole-file --inplace'
alias rsmv='rscp --remove-source-files'

function mkcd() {
	mkdir $1
	cd $1
}

function v {
	if jobs vim; then
		fg
	else
		vim $@
	fi
}

function spawn { ($* 2>&1 1> /dev/null &) }

hash w=~/workspace

alias cf=commonform

alias m=mutt

alias mux="screen -x || screen"

alias org="emacs -nw"

alias tt=runtests

function clonecf {
	set -e
	git clone "git@github.com:commonform/commonform-$1" "$1"
	cd "$1"
	npm install
	npm test
}

function clonemy {
	set -e
	git clone "git@github.com:kemitchell/$1" "$1" || git clone "git@github.com:kemitchell/$1.js" "$1"
	cd "$1"
	npm install
	npm test
}
